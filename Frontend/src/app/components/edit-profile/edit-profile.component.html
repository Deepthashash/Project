<h2 mat-dialog-title>Edit Profile</h2>

<mat-dialog-content>
    <form [formGroup]="RegisterForm">
        <fieldset class="p-4">
          <div class="form-group">
            <label>Profile Picture :</label>
            <!-- input field coloured red when given data is failed validation -->
            <app-image-uploader
              [defaultImage]="'/assets/images/image-placeholder-user.png'"
              [cloudFolder]="'profilePictures'"
              (upload)="setProfilePicture($event)"
            ></app-image-uploader>
            <!-- show error message for validation error -->
            <small
              *ngIf="RegisterForm.get('profilePicture').invalid"
              class="text-danger"
              >*Profile Picture is required !</small
            >
          </div>
    
          <div class="name row">
            <div class="form-group w-50 pl-3 pr-2">
              <label>First Name :</label>
              <!-- input field coloured red when given data is failed validation -->
              <input
                [class.is-invalid]="
                  RegisterForm.get('firstName').invalid &&
                  RegisterForm.get('firstName').touched
                "
                type="text"
                formControlName="firstName"
                class="form-control"
                required
              />
              <!-- show error message for validation error -->
              <small
                *ngIf="
                  RegisterForm.get('firstName').invalid &&
                  RegisterForm.get('firstName').touched
                "
                class="text-danger"
                >*First Name is required !</small
              >
            </div>
    
            <div class="form-group w-50 pl-2 pr-3">
              <label>Last Name :</label>
              <!-- input field coloured red when given data is failed validation -->
              <input
                [class.is-invalid]="
                  RegisterForm.get('lastName').invalid &&
                  RegisterForm.get('lastName').touched
                "
                type="text"
                formControlName="lastName"
                class="form-control"
                required
              />
              <!-- show error message for validation error -->
              <small
                class="text-danger"
                *ngIf="
                  RegisterForm.get('lastName').invalid &&
                  RegisterForm.get('lastName').touched
                "
                >*Last Name is required !</small
              >
            </div>
          </div>
    
          <div class="form-group">
            <label>Mobile number :</label>
            <!-- input field coloured red when given data is failed validation -->
            <input
              [class.is-invalid]="
                RegisterForm.get('mobileNumber').invalid &&
                RegisterForm.get('mobileNumber').touched
              "
              type="text"
              formControlName="mobileNumber"
              class="form-control"
              required
            />
            <!-- show error message for validation error -->
            <div
              *ngIf="
                RegisterForm.get('mobileNumber').invalid &&
                RegisterForm.get('mobileNumber').touched
              "
            >
              <small
                class="text-danger"
                *ngIf="RegisterForm.get('mobileNumber').errors.required"
                >*Mobile Number is required !</small
              >
            </div>
          </div>
    
          
    
          <div class="form-group">
            <label *ngIf="errorMessage != 'temp'" class="text-danger">{{
              errorMessage
            }}</label>
            <label *ngIf="successMessage != 'temp'" class="success">{{
              successMessage
            }}</label>
          </div>
    
          <!-- signup button is disabled when validation error exists -->
          <button
            [disabled]="RegisterForm.invalid"
            type="submit"
            class="btn btn-primary float-right"
            (click)="updateUser(RegisterForm.value)"
          >
            Update Profile
          </button>
        </fieldset>
      </form>
 
</mat-dialog-content>
