<h2 mat-dialog-title>Upload File</h2>

<mat-dialog-content>
    <form [formGroup]="FileUploadForm">
        <div class="form-group">
            <label>File :</label>
            <!-- input field coloured red when given data is failed validation -->
            <app-image-uploader
              [cloudFolder]="'files'"
              (upload)="setProfilePicture($event)"
            ></app-image-uploader>
            <!-- show error message for validation error -->
            <small
              *ngIf="FileUploadForm.get('file').invalid"
              class="text-danger"
              >*File is required !</small
            >
          </div>
        <div class="form-group">
           <label>File Name</label>
           <input type="text" class="form-control" placeholder="File Name" formControlName="fileName" required>
           <div
           *ngIf="
           FileUploadForm.get('fileName').invalid &&
           FileUploadForm.get('fileName').touched
           "
         >
           <small
             class="text-danger"
             *ngIf="FileUploadForm.get('fileName').errors.required"
             >*File Name is required !</small
           >
         </div>
        </div>
        <div class="form-group">
            <label>Category</label>
            <select class="form-control" formControlName="category" id="category">
                <option *ngFor="let category of categories; let i = index" [value]="categories[i]">
                  {{categories[i]}} 
                </option>
              </select> 
              <div
           *ngIf="
           FileUploadForm.get('category').invalid &&
           FileUploadForm.get('category').touched
           "
         >
           <small
             class="text-danger"
             *ngIf="FileUploadForm.get('category').errors.required"
             >*Category is required !</small
           >
         </div>
        </div> 
        <div class="form-group">
            <label>Block</label>
            <select class="form-control" formControlName="block" id="block">
                <option *ngFor="let block of blocks; let i = index" [value]="blocks[i]">
                  {{blocks[i]}}
                </option>
              </select>
              <div
           *ngIf="
           FileUploadForm.get('block').invalid &&
           FileUploadForm.get('block').touched
           "
         >
           <small
             class="text-danger"
             *ngIf="FileUploadForm.get('block').errors.required"
             >*Block is required !</small
           >
         </div> 
        </div>
         
        <div class="button-container">
            <button [disabled]="FileUploadForm.invalid" type="submit" class="btn btn-info" (click)="upload(FileUploadForm.value)">Submit</button>
            <button style="margin-left: 2px;" type="submit" class="btn btn-danger" (click)="close()">Close</button>
        </div>          

     </form>
 
</mat-dialog-content>
